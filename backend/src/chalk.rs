use crate::{board::BloxelBoard, Pad};

pub struct Chalk<const N: usize, const M: usize> {
    pad: Pad<N, M>,
}

const DEFAULT_TRACE: [[[u8; 4]; 25]; 25] = [
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 0],
        [229, 70, 120, 0],
        [230, 70, 120, 0],
        [229, 70, 120, 0],
        [226, 96, 141, 0],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 0],
        [229, 70, 120, 0],
        [230, 70, 120, 0],
        [229, 70, 120, 0],
        [226, 96, 141, 0],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 0],
        [229, 70, 120, 0],
        [230, 70, 120, 0],
        [229, 70, 120, 12],
        [226, 96, 141, 24],
        [213, 203, 228, 33],
        [210, 229, 249, 38],
        [210, 230, 250, 40],
        [210, 229, 249, 38],
        [213, 203, 228, 33],
        [226, 96, 141, 24],
        [229, 70, 120, 12],
        [230, 70, 120, 0],
        [229, 70, 120, 0],
        [226, 96, 141, 0],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 0],
        [229, 70, 120, 14],
        [230, 70, 120, 33],
        [229, 70, 120, 49],
        [226, 96, 141, 61],
        [213, 203, 228, 70],
        [210, 229, 249, 76],
        [210, 230, 250, 77],
        [210, 229, 249, 76],
        [213, 203, 228, 70],
        [226, 96, 141, 61],
        [229, 70, 120, 49],
        [230, 70, 120, 33],
        [229, 70, 120, 14],
        [226, 96, 141, 0],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 24],
        [229, 70, 120, 47],
        [230, 70, 120, 67],
        [229, 70, 120, 83],
        [226, 96, 141, 95],
        [213, 203, 228, 104],
        [210, 229, 249, 109],
        [210, 230, 250, 111],
        [210, 229, 249, 109],
        [213, 203, 228, 104],
        [226, 96, 141, 95],
        [229, 70, 120, 83],
        [230, 70, 120, 67],
        [229, 70, 120, 47],
        [226, 96, 141, 24],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 28],
        [226, 96, 141, 54],
        [229, 70, 120, 77],
        [230, 70, 120, 97],
        [229, 70, 120, 113],
        [226, 96, 141, 125],
        [213, 203, 228, 134],
        [210, 229, 249, 139],
        [210, 230, 250, 141],
        [210, 229, 249, 139],
        [213, 203, 228, 134],
        [226, 96, 141, 125],
        [229, 70, 120, 113],
        [230, 70, 120, 97],
        [229, 70, 120, 77],
        [226, 96, 141, 54],
        [213, 203, 228, 28],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 24],
        [213, 203, 228, 54],
        [226, 96, 141, 81],
        [229, 70, 120, 104],
        [230, 70, 120, 123],
        [229, 70, 120, 139],
        [226, 96, 141, 152],
        [213, 203, 228, 161],
        [210, 229, 249, 166],
        [210, 230, 250, 168],
        [210, 229, 249, 166],
        [213, 203, 228, 161],
        [226, 96, 141, 152],
        [229, 70, 120, 139],
        [230, 70, 120, 123],
        [229, 70, 120, 104],
        [226, 96, 141, 81],
        [213, 203, 228, 54],
        [210, 229, 249, 24],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 14],
        [210, 229, 249, 47],
        [213, 203, 228, 77],
        [226, 96, 141, 104],
        [229, 70, 120, 127],
        [230, 70, 120, 146],
        [229, 70, 120, 162],
        [226, 96, 141, 175],
        [213, 203, 228, 184],
        [210, 229, 249, 189],
        [210, 230, 250, 191],
        [210, 229, 249, 189],
        [213, 203, 228, 184],
        [226, 96, 141, 175],
        [229, 70, 120, 162],
        [230, 70, 120, 146],
        [229, 70, 120, 127],
        [226, 96, 141, 104],
        [213, 203, 228, 77],
        [210, 229, 249, 47],
        [210, 230, 250, 14],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 33],
        [210, 229, 249, 67],
        [213, 203, 228, 97],
        [226, 96, 141, 123],
        [229, 70, 120, 146],
        [230, 70, 120, 166],
        [229, 70, 120, 182],
        [226, 96, 141, 194],
        [213, 203, 228, 203],
        [210, 229, 249, 208],
        [210, 230, 250, 210],
        [210, 229, 249, 208],
        [213, 203, 228, 203],
        [226, 96, 141, 194],
        [229, 70, 120, 182],
        [230, 70, 120, 166],
        [229, 70, 120, 146],
        [226, 96, 141, 123],
        [213, 203, 228, 97],
        [210, 229, 249, 67],
        [210, 230, 250, 33],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 12],
        [210, 230, 250, 49],
        [210, 229, 249, 83],
        [213, 203, 228, 113],
        [226, 96, 141, 139],
        [229, 70, 120, 162],
        [230, 70, 120, 182],
        [229, 70, 120, 198],
        [226, 96, 141, 210],
        [213, 203, 228, 219],
        [210, 229, 249, 224],
        [210, 230, 250, 226],
        [210, 229, 249, 224],
        [213, 203, 228, 219],
        [226, 96, 141, 210],
        [229, 70, 120, 198],
        [230, 70, 120, 182],
        [229, 70, 120, 162],
        [226, 96, 141, 139],
        [213, 203, 228, 113],
        [210, 229, 249, 83],
        [210, 230, 250, 49],
        [210, 230, 250, 12],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 24],
        [210, 230, 250, 61],
        [210, 229, 249, 95],
        [213, 203, 228, 125],
        [226, 96, 141, 152],
        [229, 70, 120, 175],
        [230, 70, 120, 194],
        [229, 70, 120, 210],
        [226, 96, 141, 223],
        [213, 203, 228, 231],
        [210, 229, 249, 237],
        [210, 230, 250, 239],
        [210, 229, 249, 237],
        [213, 203, 228, 231],
        [226, 96, 141, 223],
        [229, 70, 120, 210],
        [230, 70, 120, 194],
        [229, 70, 120, 175],
        [226, 96, 141, 152],
        [213, 203, 228, 125],
        [210, 229, 249, 95],
        [210, 230, 250, 61],
        [210, 230, 250, 24],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 33],
        [210, 230, 250, 70],
        [210, 229, 249, 104],
        [213, 203, 228, 134],
        [226, 96, 141, 161],
        [229, 70, 120, 184],
        [230, 70, 120, 203],
        [229, 70, 120, 219],
        [226, 96, 141, 231],
        [213, 203, 228, 240],
        [210, 229, 249, 246],
        [210, 230, 250, 247],
        [210, 229, 249, 246],
        [213, 203, 228, 240],
        [226, 96, 141, 231],
        [229, 70, 120, 219],
        [230, 70, 120, 203],
        [229, 70, 120, 184],
        [226, 96, 141, 161],
        [213, 203, 228, 134],
        [210, 229, 249, 104],
        [210, 230, 250, 70],
        [210, 230, 250, 33],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 38],
        [210, 230, 250, 76],
        [210, 229, 249, 109],
        [213, 203, 228, 139],
        [226, 96, 141, 166],
        [229, 70, 120, 189],
        [230, 70, 120, 208],
        [229, 70, 120, 224],
        [226, 96, 141, 237],
        [213, 203, 228, 246],
        [210, 229, 249, 251],
        [210, 230, 250, 253],
        [210, 229, 249, 251],
        [213, 203, 228, 246],
        [226, 96, 141, 237],
        [229, 70, 120, 224],
        [230, 70, 120, 208],
        [229, 70, 120, 189],
        [226, 96, 141, 166],
        [213, 203, 228, 139],
        [210, 229, 249, 109],
        [210, 230, 250, 76],
        [210, 230, 250, 38],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 40],
        [210, 230, 250, 77],
        [210, 229, 249, 111],
        [213, 203, 228, 141],
        [226, 96, 141, 168],
        [229, 70, 120, 191],
        [230, 70, 120, 210],
        [229, 70, 120, 226],
        [226, 96, 141, 239],
        [213, 203, 228, 247],
        [210, 229, 249, 253],
        [210, 230, 250, 255],
        [210, 229, 249, 253],
        [213, 203, 228, 247],
        [226, 96, 141, 239],
        [229, 70, 120, 226],
        [230, 70, 120, 210],
        [229, 70, 120, 191],
        [226, 96, 141, 168],
        [213, 203, 228, 141],
        [210, 229, 249, 111],
        [210, 230, 250, 77],
        [210, 230, 250, 40],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 38],
        [210, 230, 250, 76],
        [210, 229, 249, 109],
        [213, 203, 228, 139],
        [226, 96, 141, 166],
        [229, 70, 120, 189],
        [230, 70, 120, 208],
        [229, 70, 120, 224],
        [226, 96, 141, 237],
        [213, 203, 228, 246],
        [210, 229, 249, 251],
        [210, 230, 250, 253],
        [210, 229, 249, 251],
        [213, 203, 228, 246],
        [226, 96, 141, 237],
        [229, 70, 120, 224],
        [230, 70, 120, 208],
        [229, 70, 120, 189],
        [226, 96, 141, 166],
        [213, 203, 228, 139],
        [210, 229, 249, 109],
        [210, 230, 250, 76],
        [210, 230, 250, 38],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 33],
        [210, 230, 250, 70],
        [210, 229, 249, 104],
        [213, 203, 228, 134],
        [226, 96, 141, 161],
        [229, 70, 120, 184],
        [230, 70, 120, 203],
        [229, 70, 120, 219],
        [226, 96, 141, 231],
        [213, 203, 228, 240],
        [210, 229, 249, 246],
        [210, 230, 250, 247],
        [210, 229, 249, 246],
        [213, 203, 228, 240],
        [226, 96, 141, 231],
        [229, 70, 120, 219],
        [230, 70, 120, 203],
        [229, 70, 120, 184],
        [226, 96, 141, 161],
        [213, 203, 228, 134],
        [210, 229, 249, 104],
        [210, 230, 250, 70],
        [210, 230, 250, 33],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 24],
        [210, 230, 250, 61],
        [210, 229, 249, 95],
        [213, 203, 228, 125],
        [226, 96, 141, 152],
        [229, 70, 120, 175],
        [230, 70, 120, 194],
        [229, 70, 120, 210],
        [226, 96, 141, 223],
        [213, 203, 228, 231],
        [210, 229, 249, 237],
        [210, 230, 250, 239],
        [210, 229, 249, 237],
        [213, 203, 228, 231],
        [226, 96, 141, 223],
        [229, 70, 120, 210],
        [230, 70, 120, 194],
        [229, 70, 120, 175],
        [226, 96, 141, 152],
        [213, 203, 228, 125],
        [210, 229, 249, 95],
        [210, 230, 250, 61],
        [210, 230, 250, 24],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 12],
        [210, 230, 250, 49],
        [210, 229, 249, 83],
        [213, 203, 228, 113],
        [226, 96, 141, 139],
        [229, 70, 120, 162],
        [230, 70, 120, 182],
        [229, 70, 120, 198],
        [226, 96, 141, 210],
        [213, 203, 228, 219],
        [210, 229, 249, 224],
        [210, 230, 250, 226],
        [210, 229, 249, 224],
        [213, 203, 228, 219],
        [226, 96, 141, 210],
        [229, 70, 120, 198],
        [230, 70, 120, 182],
        [229, 70, 120, 162],
        [226, 96, 141, 139],
        [213, 203, 228, 113],
        [210, 229, 249, 83],
        [210, 230, 250, 49],
        [210, 230, 250, 12],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 33],
        [210, 229, 249, 67],
        [213, 203, 228, 97],
        [226, 96, 141, 123],
        [229, 70, 120, 146],
        [230, 70, 120, 166],
        [229, 70, 120, 182],
        [226, 96, 141, 194],
        [213, 203, 228, 203],
        [210, 229, 249, 208],
        [210, 230, 250, 210],
        [210, 229, 249, 208],
        [213, 203, 228, 203],
        [226, 96, 141, 194],
        [229, 70, 120, 182],
        [230, 70, 120, 166],
        [229, 70, 120, 146],
        [226, 96, 141, 123],
        [213, 203, 228, 97],
        [210, 229, 249, 67],
        [210, 230, 250, 33],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 14],
        [210, 229, 249, 47],
        [213, 203, 228, 77],
        [226, 96, 141, 104],
        [229, 70, 120, 127],
        [230, 70, 120, 146],
        [229, 70, 120, 162],
        [226, 96, 141, 175],
        [213, 203, 228, 184],
        [210, 229, 249, 189],
        [210, 230, 250, 191],
        [210, 229, 249, 189],
        [213, 203, 228, 184],
        [226, 96, 141, 175],
        [229, 70, 120, 162],
        [230, 70, 120, 146],
        [229, 70, 120, 127],
        [226, 96, 141, 104],
        [213, 203, 228, 77],
        [210, 229, 249, 47],
        [210, 230, 250, 14],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 24],
        [213, 203, 228, 54],
        [226, 96, 141, 81],
        [229, 70, 120, 104],
        [230, 70, 120, 123],
        [229, 70, 120, 139],
        [226, 96, 141, 152],
        [213, 203, 228, 161],
        [210, 229, 249, 166],
        [210, 230, 250, 168],
        [210, 229, 249, 166],
        [213, 203, 228, 161],
        [226, 96, 141, 152],
        [229, 70, 120, 139],
        [230, 70, 120, 123],
        [229, 70, 120, 104],
        [226, 96, 141, 81],
        [213, 203, 228, 54],
        [210, 229, 249, 24],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 28],
        [226, 96, 141, 54],
        [229, 70, 120, 77],
        [230, 70, 120, 97],
        [229, 70, 120, 113],
        [226, 96, 141, 125],
        [213, 203, 228, 134],
        [210, 229, 249, 139],
        [210, 230, 250, 141],
        [210, 229, 249, 139],
        [213, 203, 228, 134],
        [226, 96, 141, 125],
        [229, 70, 120, 113],
        [230, 70, 120, 97],
        [229, 70, 120, 77],
        [226, 96, 141, 54],
        [213, 203, 228, 28],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 24],
        [229, 70, 120, 47],
        [230, 70, 120, 67],
        [229, 70, 120, 83],
        [226, 96, 141, 95],
        [213, 203, 228, 104],
        [210, 229, 249, 109],
        [210, 230, 250, 111],
        [210, 229, 249, 109],
        [213, 203, 228, 104],
        [226, 96, 141, 95],
        [229, 70, 120, 83],
        [230, 70, 120, 67],
        [229, 70, 120, 47],
        [226, 96, 141, 24],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 0],
        [229, 70, 120, 14],
        [230, 70, 120, 33],
        [229, 70, 120, 49],
        [226, 96, 141, 61],
        [213, 203, 228, 70],
        [210, 229, 249, 76],
        [210, 230, 250, 77],
        [210, 229, 249, 76],
        [213, 203, 228, 70],
        [226, 96, 141, 61],
        [229, 70, 120, 49],
        [230, 70, 120, 33],
        [229, 70, 120, 14],
        [226, 96, 141, 0],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 0],
        [229, 70, 120, 0],
        [230, 70, 120, 0],
        [229, 70, 120, 12],
        [226, 96, 141, 24],
        [213, 203, 228, 33],
        [210, 229, 249, 38],
        [210, 230, 250, 40],
        [210, 229, 249, 38],
        [213, 203, 228, 33],
        [226, 96, 141, 24],
        [229, 70, 120, 12],
        [230, 70, 120, 0],
        [229, 70, 120, 0],
        [226, 96, 141, 0],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
    [
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 0],
        [229, 70, 120, 0],
        [230, 70, 120, 0],
        [229, 70, 120, 0],
        [226, 96, 141, 0],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 229, 249, 0],
        [213, 203, 228, 0],
        [226, 96, 141, 0],
        [229, 70, 120, 0],
        [230, 70, 120, 0],
        [229, 70, 120, 0],
        [226, 96, 141, 0],
        [213, 203, 228, 0],
        [210, 229, 249, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
        [210, 230, 250, 0],
    ],
];

pub fn new_default() -> Chalk<25, 25> {
    Chalk::new(DEFAULT_TRACE)
}

impl<const N: usize, const M: usize> Chalk<N, M> {
    pub const fn new(trace: [[[u8; 4]; M]; N]) -> Self {
        Self { pad: Pad::new(trace) }
    }

    pub fn escribe(&self, board: &mut BloxelBoard, pos: (usize, usize)) {
        self.pad.activate(board, pos)
    }
}